<div class="w-full">
    <div class="w-2/3 mx-auto border">
        <div class="flex flex-col gap-4">
            <div class="flex flex-col">
                <!-- Name of Habit -->
                <div class="flex flex-row justify-between p-4">
                    <p class="text-3xl"><%= habit.title %> </p>
                    <p class="text-xl">Start Date : <%= moment(habit.start_date).format('DD MMM YYYY') %> </p>
                </div>
                <!-- Info of Habit -->
                <div class="flex flex-row-reverse justify-between">
                    <% for(let i = 0; i <= 7; i++) { %>
                    <div class="flex flex-col items-center w-1/8 bg-slate-200 rounded-md">
                        <% const currDate = moment().subtract(i, "days").format("DD-MM-YYYY"); %>
                        <% const foundHabit = habit.habit_details.find(obj => moment(obj.date).format("DD-MM-YYYY") === currDate) %>
                        <p><%= currDate %> </p>
                        <% if(foundHabit) { %>
                        <% if(foundHabit.status === "done") { %>
                        <i class="fa-solid fa-circle-check text-2xl cursor-pointer text-green-500 hover:text-gray-400"
                            onclick="changeStatus('<%= currDate %>', 'done', '<%= `${habit._id}` %>', '<%= `${foundHabit._id}` %>')"></i>
                        <% } else if(foundHabit.status === "notDone") { %>
                        <i class="fa-solid fa-circle-xmark text-2xl cursor-pointer text-rose-500 hover:text-gray-400"
                            onclick="changeStatus('<%= currDate %>', 'notDone', '<%= `${habit._id}` %>', '<%= `${foundHabit._id}` %>')"></i>
                        <% } else { %>
                        <i class="fa-solid fa-circle-minus text-2xl cursor-pointer text-yellow-500 hover:text-gray-400"
                            onclick="changeStatus('<%= currDate %>', 'none', '<%= `${habit._id}` %>', '<%= `${foundHabit._id}` %>')"></i>
                        <% } %>
                        <% } else { %>
                        <i class="fa-solid fa-circle-minus text-2xl cursor-pointer text-yellow-500 hover:text-gray-400"
                            onclick="changeStatus('<%= currDate %>','none', '<%= `${habit._id}` %>')"></i>
                        <% } %>
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/js/habitDetails.js"></script>